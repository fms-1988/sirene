# Sirene Application

The Sirene application serves two main purposes:

1. **Facilitate Access to Raw Greenhouse Gas Emission Data**: Provides easy access to raw greenhouse gas (GHG) emission data generated by the MCTI (Ministry of Science, Technology, and Innovation).

2. **Access Disaggregated Emission Data**: Allows users to access disaggregated emission data using the disaggregation methodology proposed in the relevant literature.

Additionally, the application provides sectoral data on Gross Production Value (VBP) and loan values by sector. With the disaggregated emission data and the VBP, we can estimate total, direct, and indirect emission coefficients according to the methodology proposed by Masa.

Please note that the data are annual and, according to the latest SIRENE report, are available between the years 1990 and 2020.

---

## 1. Reading Raw Emission Data

The data are aggregated into five sectors: `'agriculture'`, `'energy'`, `'IPPU'` (Industrial Processes and Product Use), `'LULUCF'` (Land Use, Land-Use Change, and Forestry), and `'waste'`, along with various subsectors. For each subsector, the MCTI estimates emissions of the main greenhouse gases: `'CO2'`, `'CH4'`, and `'N2O'`. Moreover, for a more comprehensive view, we can convert these emissions into CO₂ equivalents (CO₂e) using different methodologies: `'CO2e_GWP_SAR'`, `'CO2e_GWP_AR5'`, and `'CO2e_GTP_AR5'`.

### 1.1 Retrieving Emission Data of a Specific Sector

```python
srn.read('agriculture')  # CO₂ emissions between 1990 and 2020 estimated by MCTI (6th edition)
srn.read('energy')
srn.read('ippu')
srn.read('lulucf')
srn.read('waste')  # CO₂ emissions between 1990 and 2020 estimated by MCTI (6th edition) for the waste sector
# srn.read('total-brazil-1', 'CO2e_GWP_SAR')
```

### 1.2 Emission Data for Different Gases

```python
srn.read('agriculture', 'CO2')  # Annual CO₂ emissions (in Gg) by the 'agriculture' sector
srn.read('agriculture', 'CH4')  # Annual CH₄ emissions
srn.read('agriculture', 'N2O')  # Annual N₂O emissions
```

### 1.3 Aggregating Emissions Using Different Methodologies

```python
srn.read('agriculture', 'CO2e_GWP_SAR')  # CO₂e emissions using the GWP_SAR methodology
srn.read('agriculture', 'CO2e_GWP_AR5')  # CO₂e emissions using the GWP_AR5 methodology
srn.read('agriculture', 'CO2e_GTP_AR5')  # CO₂e emissions using the GTP_AR5 methodology
srn.read('total-brazil-1', 'CO2e_GWP_SAR')
```

### 1.4 Identifying Subsectors of a Specific Sector

```python
srn.read('energy').index
```

### 1.5 Retrieving Data of a Specific Subsector

```python
srn.read('energy').loc['1.A.4.b. Residential', :]
```

---

## 2. Reading Disaggregated Emission Data

Each sector in the MCTI data (referred to as MCTI sectors) has been disaggregated into 68 activities based on the IBGE classification. This allows us to access the emissions of a specific activity within each sector (which could be considered the origin of emissions).

Note that not all years have been disaggregated. Disaggregation requires already disaggregated VBP data, which IBGE does not provide before 20XX.

For data that combine public and private health and education:

```python
# coef(self, year, emission='total', household=True, adjust_sicor=True, reference_year='2011')
srn.co2e_67.head(10)  # Sums of (8591 + 8592) and (8691 + 8692)
```

---

## 3. Scope of the Decomposition

Disaggregating MCTI emission data into 68 activities is a complex task. Due to this complexity, not all emissions have been assigned to a specific activity. Therefore, when comparing the total emissions of the 68 activities with the total estimated by the MCTI, the former is slightly lower. We have taken care to perform as much disaggregation as possible without significant loss of information to ensure data reliability.

```python
import warnings
warnings.simplefilter(action='ignore', category=FutureWarning)

# 1) Emissions disaggregated into 68 activities
E_total_68 = pd.DataFrame({'year': [], 'total68_Gg_CO2e_GWP_SAR': []})
for t in range(2010, 2021):
    result_t = srn.coef(str(t)).result
    footprint = result_t['total_Gg_CO2e_GWP_SAR'].sum()
    df_ = pd.DataFrame({'year': [result_t.ano[0]], 'total68_Gg_CO2e_GWP_SAR': [footprint]})
    E_total_68 = pd.concat([E_total_68, df_])

# 2) Aggregated emissions (official data from MCTI)
E_total = pd.DataFrame(srn.read('total-brazil-1', 'CO2e_GWP_SAR').loc['Total', :])
E_total.reset_index(inplace=True)
E_total.columns = ['year', 'total_Gg_CO2e_GWP_SAR']

# 3) Plotting
E = E_total.merge(E_total_68, on='year')

plt.figure(figsize=(6, 4))
plt.plot(E['year'], E['total_Gg_CO2e_GWP_SAR'], label='Total Emission (MCTI)', marker='o')
plt.plot(E['year'], E['total68_Gg_CO2e_GWP_SAR'], label='Total Emission (MCTI Disaggregated)', marker='o')

plt.title('Year vs. Emissions')
plt.xlabel('Year')
plt.ylabel('Emissions (Gg of CO₂e_GWP_SAR)')
plt.legend()
plt.grid(True)
plt.show()
```

![Emission Comparison Plot](path_to_plot_image)

---

## 4. Emission Coefficients

Using the disaggregated emission data and the deflated VBP (see relevant literature), we can estimate emission coefficients by activity (refer to the methodology proposed by Maza). To estimate these coefficients, we can consider the 'household' sector, which represents households responsible for emissions such as burning waste in rural areas.

```python
coef_t = srn.coef(year='2010', emission='total', household=True, adjust_sicor=True, reference_year='2011')
coef_t.reference_year  # Reference year for deflation
coef_t.adjust_sicor    # Adjust credit data
coef_t.defl_df         # DataFrame with deflation values
coef_t.defl_num        # Deflation scalar
coef_t.emission        # Type of emission: 'total', etc.
coef_t.household       # Boolean indicating inclusion of household sector
coef_t.mLeontiefBarr.shape  # Leontief matrix shape (67, 67)
coef_t.result[['activity_ibge_code', 'production_values_mi_brl', 'year']]  # IBGE data
coef_t.result[['year', 'production_values_mi_brl', 'total_Gg_CO2e_GWP_SAR', 'q_direct', 'q_total', 'q_indirect']]  # Emission coefficients as per Maza
```

---

## 5. Emissions from the Brazilian Credit Financial System

The application contains credit data by activity extracted from the Credit System maintained by the Central Bank of Brazil (BCB). Knowing the credit volume each sector receives and the emissions each sector produces, we can estimate the emissions per dollar lent by the financial system.

Credit System Data:

```python
coef_t.result[['year', 'production_values_mi_brl', 'total_Gg_CO2e_GWP_SAR', 'active_loan_portfolio_mi_brl']]  # Loan data
```

---


